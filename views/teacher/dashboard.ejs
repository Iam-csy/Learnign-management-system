<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cyber Security Teacher Dashboard</title>
  <link rel="stylesheet" href="/css/teacherdb.css">
  <!-- Optional: Add favicon or meta tags for professionalism -->
  <meta name="description" content="Professional dashboard for cyber security teachers to manage courses and live sessions.">
</head>

<body>
  <main class="dashboard-container" role="main" aria-labelledby="dashboard-title">
    <!-- HEADER SECTION -->
    <header class="header">
      <h1 id="dashboard-title" class="glow-text">Welcome, <%= teacher.user.username %></h1>
      <p><strong>Bio:</strong> <%= teacher.bio %></p>
      <p><strong>Expertise:</strong> <%= teacher.expertise.join(", ") %></p>
    </header>

    <hr class="divider" aria-hidden="true">

    <!-- SKILLS/COURSES SECTION -->
    <section class="skills-section" aria-labelledby="skills-heading">
      <h2 id="skills-heading" class="glow-text">Cyber Security Domains</h2>

      <% if (courses.length === 0) { %>
        <p class="no-skills" role="status">No domains yet. Create your first course to get started.</p>
      <% } %>

      <ul class="skills-grid" role="list">
        <% courses.forEach(course => { %>
          <li class="skill-card" role="listitem">
            <!-- COURSE TITLE -->
            <h3 class="skill-title"><%= course.title %></h3>

            <!-- ACTIONS -->
            <div class="skill-actions">
              <!-- ADD LESSON LINK -->
              <a 
                href="/teacher/course/<%= course._id %>/lesson/new"
                class="add-lesson-link"
                aria-label="Add a new lesson to <%= course.title %>"
              >
                Add Lesson
              </a>

              <!-- START LIVE FORM (ONLY FOR TEACHERS) -->
              <% if (teacher) { %>
                <form
                  action="/course/<%= course._id %>/start-live"
                  method="POST"
                  class="start-live-form"
                  aria-label="Start a live session for <%= course.title %>"
                >
                  <button type="submit" class="start-live-btn" aria-describedby="start-live-desc">
                    Start Live
                  </button>
                  <span id="start-live-desc" class="sr-only">Initiate a live teaching session for this course.</span>
                </form>
              <% } %>
            </div>
          </li>
        <% }) %>
      </ul>

      <!-- PREDEFINED SKILLS SECTION -->
      <section class="predefined-skills" aria-labelledby="predefined-heading">
        <h3 id="predefined-heading">Core Cyber Security Skills</h3>
        <div class="predefined-list" role="list" aria-label="List of predefined cyber security skills">
          <span class="predefined-skill" role="listitem">Ethical Hacking</span>
          <span class="predefined-skill" role="listitem">Networking</span>
          <span class="predefined-skill" role="listitem">Cloud Security</span>
          <span class="predefined-skill" role="listitem">DevOps</span>
          <span class="predefined-skill" role="listitem">AI Security</span>
          <span class="predefined-skill" role="listitem">Digital Forensics</span>
        </div>
      </section>
    </section>

    <!-- CREATE NEW COURSE LINK -->
    <nav class="create-section">
      <a 
        href="/teacher/course/new"
        class="create-skill-link"
        aria-label="Create a new cyber security domain or course"
      >
        Create New course
      </a>
    </nav>
  </main>
</body>
</html>